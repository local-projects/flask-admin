{% import 'admin/layout.html' as layout with context -%}
{% import 'admin/static.html' as admin_static with context %}
<!DOCTYPE html>
<html>
  <head>
    <!--
    ddds        -ohmmmdh+.    `+hdmmdh+`      sdddd.     /ddd-
    mmmy       /mmmhssdmmm-  -mmmdssdmmd-    .mmmmmo     +mmm-
    mmmy       dmmm   -mmms  smmm-  -mmmy    ommhmmd     +mmm-
    mmmy       mmmd   .mmmy  ymmm.  `yyyo    dmm/hmm:    +mmm-
    mmmy       mmmd   .mmmy  ymmm.          :mmm`+mmy    +mmm-
    mmmy       mmmd   .mmmy  ymmm.          smmy .mmm.   +mmm-
    mmmy       mmmd   .mmmy  ymmm.         `mmm+..dmm+   +mmm-
    mmmy       mmmd   .mmmy  ymmm.  `ddds  +mmmmmmmmmd   +mmm-
    mmmy       dmmm`  -mmms  smmm-  .mmmy  ymmh+++ommm-  +mmm-
    mmmdyyyyyo +mmmhoodmmd-  -dmmdsohmmd: `mmm/    mmms  +mmmhyyyyy.
    hhhhhhhhhs  :shddddho.    .ohddddho-  :hhh.    ohhh  /hhhhhhhhh.

    hhhhhhhhyo-   yhhhhhhhs+.    .ohddddhs-     /hhh-  -hhhhhhhhhs   :shdddhy/` +hhhhhhhhhh+ `+yhdddhs-
    mmmdssshmmm+  dmmmssydmmd-  -dmmhoohmmm/    /mmm:  :mmmhyyyyy+  ommmyosmmmy /yyymmmmyyy/ ymmdsohmmd:
    mmmy   `ymmm` dmmd   .mmms  smmm-  `mmmy    /mmm:  :mmm/       `mmmh   ommm-    hmmd    .mmm+  `sss/
    mmmy    ommm. dmmd    mmmy  ymmm.   dmmh    /mmm:  :mmm/       `mmmh   :sss-    hmmd    `dmmh-
    mmmy...:dmmd  dmmd..-ommm+  ymmm.   dmmh    /mmm:  :mmmy++++.  `mmmh            hmmd     -hmmmy:
    mmmmddmmmmy.  dmmmddmmmd+   ymmm.   dmmh    /mmm:  :mmmmmmmm/  `mmmh            hmmd      `/hmmmh/
    mmmh++//-.    dmmd++mmms    ymmm.   dmmh    /mmm:  :mmm+`````  `mmmh    ```     hmmd        `-smmmy.
    mmmy          dmmd  +mmm-   ymmm.   dmmh    /mmm:  :mmm/       `mmmh   /ddd:    hmmd     `.-   -dmmh
    mmmy          dmmd  `hmmh   smmm.  `mmmh    +mmm:  :mmm/        mmmh   +mmm-    hmmd    /mmm:   smmm
    mmmy          dmmd   -mmm+  -mmmdsshmmm: .ssmmmm.  :mmmdyyyyyy. +mmmysymmmh     hmmd    `hmmmysymmm+
    ddds          yddy    sddh`  .+hdmmmho-  -mmmds-   -dddddddddd.  -shmmmdy/`     yddh      /ydmmmho-
    -->
    <title>{% block title %}{% if admin_view.category %}{{ admin_view.category }} - {% endif %}{{ admin_view.name }} - {{ admin_view.admin.name }}{% endblock %}</title>
    {% block head_meta %}
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    {% endblock %}
    {% block head_css %}
    <link href="{{ admin_static.url(filename='bootstrap/bootstrap3/css/bootstrap.min.css', v='3.3.5') }}" rel="stylesheet">
    <link href="{{ admin_static.url(filename='admin/css/bootstrap3/admin.css', v='1.1.1') }}" rel="stylesheet">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" rel="stylesheet">
    <link href="{{ admin_static.url(filename='vendor/select2/select2.css') }}" rel="stylesheet">
    <link href="{{ admin_static.url(filename='adminlte/css/AdminLTE.min.css') }}" rel="stylesheet">
    <link href="{{ admin_static.url(filename='adminlte/css/skins/skin-%s.min.css' % admin_view.admin.template_scheme) }}" rel="stylesheet">
    {% endblock %}
    {% block head %}
    {% endblock %}
    {% block head_tail %}
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    {% endblock %}
  </head>
  <body class="hold-transition skin-{{ admin_view.admin.template_scheme }} sidebar-mini">
    {% block page_body %}
    <div class="wrapper">
      <header class="main-header">

        {% block brand %}
        <a class="logo" href="{{config.SECURITY_POST_LOGIN_VIEW}}">
          <span class="logo-mini"></span>
          <span class="logo-lg">{{ admin_view.admin.name  }}</span>
        </a>
        {% endblock %}

        <nav class="navbar navbar-static-top" role="navigation">
          <a href="#" class="sidebar-toggle visible-xs visible-sm" data-toggle="offcanvas" role="button">
              <span class="sr-only">Toggle navigation</span>
          </a>

          {% block menu_links  %}
          <div class="navbar-custom-menu">
              <ul class="nav navbar-nav navbar-right">
                  {% if admin_view.admin.menu_links() %}
                  <li class="dropdown">
                      <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                          Links <span class="caret"></span> &nbsp;
                      </a>
                      <ul class="dropdown-menu" role="menu">
                          {{ layout.menu_links()  }}
                      </ul>
                  </li>
                  {% endif %}
              </ul>
          </div>
          {% endblock %}
        </nav>
      </header>

      <aside class="main-sidebar">
          <section class="sidebar">
              {% block main %}
              <ul class="sidebar-menu">
                  {{ layout.menu() }}
              </ul>
              {% endblock %}
          </section>
      </aside>

      <div class="content-wrapper">
          <section class="content-header">
              {% block body_header %}
              {% endblock %}
          </section>

          <section class="content">
              {% block messages %}
              {{ layout.messages() }}
              {% endblock %}

              {# store the jinja2 context for form_rules rendering logic #}
              {% set render_ctx = h.resolve_ctx() %}

              {% block body %}{% endblock %}
          </section>
      </div>

      <footer class="main-footer">
          {% block body_footer %}
          <!-- To the right -->
          <div class="pull-right">
            <strong>CMS Version:</strong> <code>{{config._version}}</code>
          </div>
          <!-- Default to the left -->
          <a href="#">CMS Documentation</a>
          {% endblock %}
      </footer>

    </div>
    {% endblock %}

    {% block loading_overlay %}
    <div id="loading-overlay" class="overlay">
        <div class="overlay-content">
            <div class="progress"></div>
            <div class="progress-text not-selectable"></div>
        </div>
    </div>
    {% endblock %}

    {% block tail_js %}
    <script src="{{ admin_static.url(filename='vendor/jquery.min.js') }}" type="text/javascript"></script>
    <script src="//code.jquery.com/ui/1.11.2/jquery-ui.js" type="text/javascript"></script>

    <script src="{{ admin_static.url(filename='bootstrap/bootstrap3/js/bootstrap.min.js', v='3.3.5') }}" type="text/javascript"></script>
    <script src="{{ admin_static.url(filename='adminlte/js/app.min.js') }}" type="text/javascript"></script>
    <script src="{{ admin_static.url(filename='vendor/moment.min.js', v='2.11.2')}}"></script>
    <script src="{{ admin_static.url(filename='vendor/select2/select2.min.js')}}"></script>
    <script src="{{ admin_static.url(filename='admin/js/circle-progress.min.js')}}"></script>
    {# Admin MUST be at the end. #}
    <script src="{{ admin_static.url(filename='adminlte/js/admin.js') }}" type="text/javascript"></script>
    {% endblock %}

    {% block tail %}
    {% endblock %}

  </body>
</html>
